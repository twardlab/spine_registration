Search.setIndex({"alltitles": {"Command Line Arguments:": [[4, "command-line-arguments"]], "Example Jupyter Notebook": [[0, null]], "Indices and tables": [[0, "indices-and-tables"]], "Load I": [[2, "Load-I"]], "Load J": [[2, "Load-J"]], "Load L": [[2, "Load-L"]], "Load and visualize input files I, L and J": [[2, "Load-and-visualize-input-files-I,-L-and-J"]], "Parameters:": [[3, "parameters"], [3, "id1"], [3, "id3"], [3, "id5"], [3, "id7"], [3, "id9"], [3, "id11"], [3, "id13"]], "Raises:": [[4, "raises"]], "Register spines": [[2, null]], "Returns:": [[3, "returns"], [3, "id2"], [3, "id4"], [3, "id6"], [3, "id8"], [3, "id10"], [3, "id12"], [3, "id14"]], "Spine Registration Example": [[1, null]], "Spine Registration Helper Functions": [[3, null]], "Spine Registration Pipeline": [[4, null]], "Table of Contents:": [[0, null]], "Welcome to the documentation for the spine image registration pipeline!": [[0, null]], "now a high res version": [[2, "now-a-high-res-version"]], "prepare outputs": [[2, "prepare-outputs"]]}, "docnames": ["index", "notebooks/example", "notebooks/register_spine_v04_spinal_cord_4_atlas_to_reflection_points_lines", "spine_reg", "spine_reg_pipeline"], "envversion": {"nbsphinx": 4, "sphinx": 64, "sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2}, "filenames": ["index.rst", "notebooks/example.ipynb", "notebooks/register_spine_v04_spinal_cord_4_atlas_to_reflection_points_lines.ipynb", "spine_reg.rst", "spine_reg_pipeline.rst"], "indexentries": {"draw() (in module spine_reg)": [[3, "spine_reg.draw", false]], "fromblocks() (in module spine_reg)": [[3, "spine_reg.fromblocks", false]], "getslice() (in module spine_reg)": [[3, "spine_reg.getslice", false]], "interp() (in module spine_reg)": [[3, "spine_reg.interp", false]], "interp1d() (in module spine_reg)": [[3, "spine_reg.interp1d", false]], "main() (in module spine_reg_pipeline)": [[4, "spine_reg_pipeline.main", false]], "measure_matching_dot() (in module spine_reg)": [[3, "spine_reg.measure_matching_dot", false]], "module": [[3, "module-spine_reg", false], [4, "module-spine_reg_pipeline", false]], "phii_from_v() (in module spine_reg)": [[3, "spine_reg.phii_from_v", false]], "spine_reg": [[3, "module-spine_reg", false]], "spine_reg_pipeline": [[4, "module-spine_reg_pipeline", false]], "toblocks() (in module spine_reg)": [[3, "spine_reg.toblocks", false]]}, "objects": {"": [[3, 0, 0, "-", "spine_reg"], [4, 0, 0, "-", "spine_reg_pipeline"]], "spine_reg": [[3, 1, 1, "", "draw"], [3, 1, 1, "", "fromblocks"], [3, 1, 1, "", "getslice"], [3, 1, 1, "", "interp"], [3, 1, 1, "", "interp1d"], [3, 1, 1, "", "measure_matching_dot"], [3, 1, 1, "", "phii_from_v"], [3, 1, 1, "", "toblocks"]], "spine_reg_pipeline": [[4, 1, 1, "", "main"]]}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"]}, "objtypes": {"0": "py:module", "1": "py:function"}, "terms": {"": 2, "0": [1, 2], "00": 2, "02": 2, "06d": 2, "1": [2, 3], "10": [1, 2], "100": 2, "1000": 2, "10um": 2, "110": 2, "119": 2, "12": 2, "120": 2, "1444": 2, "15": 2, "1500": 2, "16": 2, "180": 2, "1d": [2, 3], "1e": 2, "1e4": 2, "1e5": 2, "1e6": 2, "1e7": 2, "2": [2, 3], "20": 2, "200": 2, "2000": 2, "24": 2, "25552": 2, "256": 2, "2d": [2, 3], "2e": 2, "2e2": 2, "2e5": 2, "2e6": 2, "3": [1, 2, 3, 4], "300": 2, "310": 2, "3110": 2, "3133": 2, "32": 2, "33": 2, "34": 2, "3d": [2, 3], "4": 2, "400": 2, "440": 2, "450": 2, "481": 2, "5": [1, 2], "50": [2, 4], "500": 2, "5000": [2, 4], "59": 2, "5e": 2, "5e4": 2, "5e6": 2, "6": [1, 2], "60": 2, "600": 2, "7": 2, "700": 2, "75": 2, "8": [2, 4], "800": 2, "9": 2, "900": 2, "A": [2, 3], "AT": 2, "As": 2, "If": 4, "NO": 2, "The": [1, 3, 4], "_i": 2, "_xi0": 2, "_xi1": 2, "_xi2": 2, "a_": 2, "ab": 2, "abenneck": [1, 2], "abov": 2, "actual": 2, "add": 2, "add_subplot": 2, "addit": 3, "affin": 2, "after": [2, 4], "agrad": 2, "ai": 2, "al": 2, "align": 2, "align_corn": 2, "all": [2, 4], "allow_pickl": 2, "almost": 2, "along": [3, 4], "alpha": 2, "alsav": 2, "also": 2, "an": [2, 4], "ani": [2, 4], "annot": 2, "ap": 4, "append": 2, "appli": 2, "apppli": 2, "approach": 2, "appropri": 2, "ar": 2, "arang": 2, "aris": 4, "arrai": [2, 3], "asarrai": 2, "asdf": 2, "aspect": 2, "astyp": 2, "atla": [2, 4], "atlas": 2, "atsav": 2, "auto": 2, "awai": 2, "ax": [2, 3, 4], "axi": [2, 3, 4], "axq": 2, "b": [2, 4], "background": 2, "backward": 2, "bad": 2, "basi": 2, "basic": 2, "batch": [2, 3], "becaus": 2, "befor": [2, 4], "being": 2, "believ": 2, "beter": 2, "better": 2, "big": 2, "block": 2, "blocksiz": [2, 3, 4], "blockwiz": 2, "blur": 2, "bool": 4, "border": 2, "bottom": 2, "boundari": 2, "call": 2, "can": [2, 4], "canva": 2, "cardin": [3, 4], "ceil": 2, "center": 2, "chang": 2, "channel": 2, "cla": 2, "clean": 2, "clf": 2, "clip": 2, "clone": [2, 4], "close": 2, "cloud": 2, "cmap": 2, "co": 2, "code": 2, "collect": 2, "color": 4, "com": 4, "command_str": [1, 2], "commandstr": 2, "companion": 2, "compar": 2, "compos": 2, "comput": [2, 3, 4], "concaten": 2, "condit": 2, "confirm": 2, "contain": 3, "continu": 2, "contrast": 2, "convert": 2, "coordin": [2, 3], "copi": 2, "coron": [2, 3], "correct": 4, "correspond": 2, "count": 2, "count_": 2, "covij": 2, "cpu": [2, 4], "crop": 2, "csh_data": 2, "custom": 4, "cut": 2, "d2": 2, "d2i": 2, "data": [2, 3, 4], "data_i": 2, "data_j": 2, "data_l": 2, "dd": [2, 3], "debug": 2, "def": 2, "default": [3, 4], "defin": 2, "deform": 2, "delet": 2, "desir": 3, "desktop": [1, 2], "det": 2, "detach": 2, "devic": [2, 3, 4], "di": 2, "diag": 2, "diag_emb": 2, "diagon": 2, "dict": 3, "dictionari": 3, "diffeo": 2, "differ": 2, "dim": 2, "dimens": [2, 3], "directori": [1, 4], "displai": 2, "display_id": 2, "distribut": 2, "distrubt": 2, "dj": 2, "djd": 2, "do": [2, 4], "document": [1, 2], "don": 2, "done": 2, "dong": [1, 2], "down": [2, 4], "downsampl": [2, 3, 4], "downsample_image_domain": 2, "dphii": 2, "dr": 2, "draw": [2, 3], "dt": 2, "dtward": [1, 2], "dtype": [2, 3, 4], "dure": 4, "dv": 2, "dx": 2, "e": 2, "e_path": [1, 2, 4], "each": [3, 4], "ei": 2, "eij": 2, "eij_": 2, "eix": 2, "ej": 2, "ejx": 2, "element": 3, "elif": 2, "els": 2, "em": 2, "emlddmm": [1, 2, 4], "epa": 2, "epsquish": 2, "epstretch": 2, "ept": 2, "eptheta": 2, "epv": 2, "equ": 2, "equ0": 2, "equal": 2, "er": 2, "err": 2, "esav": 2, "estim": 2, "etc": 2, "evalu": 2, "everi": 4, "except": [2, 4], "exist_ok": 2, "exp": 2, "expand": 2, "exponenti": 2, "extens": 4, "extent": 2, "extract": 3, "ey": 2, "f": [1, 2], "factor": 4, "fake": 2, "fals": [1, 2, 4], "fat": 2, "fft": 2, "fftn": 2, "fig": [2, 3], "fige": 2, "figerr": 2, "figi": 2, "figj": 2, "figq": 2, "figur": [2, 3, 4], "file": 4, "fill": 2, "final": 2, "find": 2, "first": 2, "fit": 2, "fix": 2, "flip": 2, "float": 2, "float32": [2, 4], "fname_i": [1, 2, 4], "fname_j": [1, 2, 4], "fname_l": [1, 2, 4], "fname_pointsj": 4, "fname_script": [1, 2], "follow": 1, "forward": 2, "forward_transform": 2, "fphii": 2, "fphiip": 2, "fphiipp": [2, 3], "fphiipv": 2, "from": [2, 3, 4], "fromblock": [2, 3], "function": [0, 2], "fv": 2, "g": 2, "gc": 2, "gener": [2, 3, 4], "get": 2, "getslic": [2, 3], "gi": 2, "gif": 2, "gij": 2, "github": 4, "go": 2, "good": 2, "grad": 2, "gradient": [2, 4], "grai": 2, "grid": 2, "grid_sampl": 2, "grow": 2, "gui": 2, "ha": 2, "hack": [2, 3], "hard": 2, "have": [2, 4], "helper": 0, "here": 2, "hfig": 2, "hfige": 2, "hfigerr": 2, "hfigi": 2, "hfigj": 2, "hfigq": 2, "home": [1, 2], "how": [1, 2], "hspace": 2, "http": 4, "i": [3, 4], "i_": 2, "id": 2, "ident": 2, "ifftn": 2, "ij": 2, "imag": [1, 2, 3, 4], "imp": 2, "import": [1, 2], "imshow": 2, "includ": 2, "index": [0, 2], "input": 4, "insert": 1, "int": [2, 3, 4], "integ": 2, "integr": 2, "intens": 3, "intermedi": 4, "interp": [2, 3], "interp1d": [2, 3], "interpl": 2, "interpol": [2, 3, 4], "interpolated_atla": [1, 2], "interpolated_atlas_label": [1, 2], "interpolated_atlas_to_spine_reflection_v04": 2, "inv": 2, "invers": 2, "inverse_transform": 2, "ipynb": 2, "ishow": 2, "item": 2, "iter": 4, "j": 4, "j_": 2, "jacobian": [2, 4], "jd": [2, 3], "jdp": 2, "jdpp": [2, 3], "jdpv": 2, "jdsize": [2, 3], "join": 2, "jsave": 2, "jshow": 2, "jupyt": 2, "just": 2, "k": 2, "keep": 2, "keepdim": 2, "kei": 3, "kernel": 2, "kind": 2, "kwarg": [2, 3], "label": [2, 4], "landmark": 1, "last": 2, "leav": 2, "left": 2, "legend": 2, "len": 2, "let": 2, "librari": 4, "like": 2, "linalg": 2, "line": 2, "linspac": 2, "list": [3, 4], "ll": 2, "locat": [2, 4], "look": 2, "loop": 4, "low": 2, "lowert": 2, "m": 2, "main": 4, "make": 2, "makedir": 2, "map": 2, "mask": 2, "match": 2, "matplotlib": [2, 3], "matric": 2, "matrix": 2, "max": 2, "maximum": 3, "mean": 2, "measure_matching_dot": [2, 3], "measurematchingsigma": 2, "memori": 2, "meshgrid": 2, "messag": 4, "metric": 2, "min": 2, "min_a": 2, "minu": 2, "mip": 4, "mode": 2, "model": 2, "modul": 0, "more": 4, "most": 2, "move": 2, "much": 2, "mui": 2, "muj": 2, "multipli": 2, "my": 2, "n": 2, "naf": [1, 2], "nblock": 2, "ncol": 2, "ndim": 2, "necessari": 2, "need": 2, "neg": [2, 4], "new": 3, "ni": 2, "nid": 2, "niter": [1, 2, 4], "nn": 2, "no_grad": 2, "none": [2, 3], "note": 2, "notebook": 2, "np": [2, 3], "npy": 2, "npz": [1, 2, 4], "nqu": 2, "nr": 2, "nrow": 2, "nshow": 2, "nt": 2, "number": [2, 4], "numel": 2, "numpi": 2, "nv": 2, "o": [1, 2], "object": [2, 4], "occur": 4, "off": 2, "onc": 2, "one": 2, "ones": 2, "ones_lik": 2, "onli": 2, "open": 2, "oper": 2, "optim": 2, "option": [1, 2, 3], "order": 2, "origin": 2, "oscil": 2, "other": 2, "out": [2, 4], "out_err_anim": 2, "out_err_it_": 2, "out_q_anim": 2, "out_q_it_": 2, "out_s_anim": 2, "out_s_it_": 2, "outdir": [1, 2, 4], "output": [3, 4], "outputs_v04": 2, "over": 2, "p": 2, "pad": 2, "padding_mod": 2, "page": 0, "paramet": 2, "paremet": 3, "part": 2, "path": [1, 2, 4], "permut": 2, "phi": 2, "phii": [2, 3], "phii_from_v": [2, 3], "phiipp": 2, "phiiqju": [2, 3], "pi": 2, "plan": 2, "plane": [2, 3], "plot": [2, 3, 4], "plt": 2, "png": 2, "point": [1, 2, 4], "pointsj_fil": [1, 2], "porvid": 4, "posit": 2, "precis": 4, "present": 4, "print": [2, 4], "probabali": 2, "probabl": 2, "process": 4, "prod": 2, "produc": 3, "progress": 4, "project": [2, 3], "provid": 4, "push": 2, "py": [1, 2], "pyplot": 2, "python": [3, 4], "python3": [1, 2], "pytorch": 3, "qi": 2, "qiu": [2, 3], "qj": 2, "qju": [2, 4], "qnap": [1, 2], "quit": 2, "rais": 2, "randint": 2, "randn": 2, "random": 2, "rang": 2, "ravel": 2, "real": 2, "reflect": [2, 4], "region": 2, "regist": [1, 4], "register_spine_v04_spinal_cord_4_atlas_to_reflection_points_lin": 2, "reload": 2, "repeat": 2, "replac": 2, "requires_grad": 2, "reshap": 2, "resolut": 2, "resolv": 1, "respect": 4, "result": 2, "return": 2, "right": 2, "rostral": 2, "rot": 2, "rotat": 2, "rotmat": 2, "round": 2, "row": 2, "sagitt": 3, "same": 2, "sampl": 2, "save": [2, 4], "saveallfig": 4, "saved_paramet": 2, "savefig": 2, "savefig0": 4, "savefig1": 4, "savefig10": 4, "savefig11": 4, "savefig12": 4, "savefig13": 4, "savefig14": 4, "savefig15": 4, "savefig16": 4, "savefig2": 4, "savefig3": 4, "savefig4": 4, "savefig5": 4, "savefig6": 4, "savefig7": 4, "savefig8": 4, "savefig9": 4, "saveintermediatefig": 4, "savez": 2, "scale": 2, "scatter": [2, 4], "script": 1, "search": 0, "second": 2, "sequenc": 2, "set": 2, "set_aspect": 2, "set_titl": 2, "sever": 4, "shape": [2, 3], "shell": 2, "shift": 2, "short": 2, "should": [2, 3, 4], "show": [1, 2], "sigmam": 2, "sigmaqiu": [2, 3], "sigmaqu": 2, "sigmar": 2, "sign": 2, "sin": 2, "sinc": 2, "size": 2, "sl": 2, "slice": [2, 3], "slightli": 2, "slow": 2, "smooth": 2, "so": 2, "solv": 2, "some": 2, "space": 2, "specifi": 3, "spine4_image_with_reflect": [1, 2], "spine_4_morphh_central_can": [1, 2], "spine_output": [1, 2], "spine_reflect": [1, 2], "spine_reg": [2, 3], "spine_reg_pipelin": [1, 2, 4], "spine_registr": [1, 2], "spine_registration_2025": [1, 2], "spine_work": [1, 2], "split": 2, "squeez": 2, "squish": [2, 3], "squishb": 2, "squishin": 2, "squishmat": 2, "squishsav": 2, "src": 1, "stack": 2, "standard": [2, 4], "start": 2, "step": 2, "still": 2, "str": [1, 4], "strech": 2, "stretch": 2, "strip": 2, "structur": 2, "subplot": 2, "subplots_adjust": 2, "subprocess": 2, "subset": [2, 3], "sum": [2, 3], "sumit": 2, "superimpos": 4, "suppli": 1, "support": 2, "sure": 2, "swc": [1, 2, 4], "sy": [1, 2], "system": [1, 2], "t": 2, "target": [2, 3, 4], "tb": 2, "tcat": 2, "tej": 2, "tensor": [2, 3], "term": 2, "test": 2, "thei": 2, "them": 2, "theta": 2, "thetab": 2, "thetasav": 2, "thi": [1, 2], "thing": 2, "think": 2, "third": 2, "thisx": 2, "thisxfit": 2, "those": 3, "throughout": 4, "tmat": 2, "toblock": [2, 3], "todo": [2, 4], "top": 2, "topad": 2, "topadlist": 2, "torch": [2, 3, 4], "tosampl": 2, "trace": 2, "transform": 2, "translat": 2, "transpos": 2, "transvers": 3, "true": 2, "trust": 2, "try": 2, "tsave": 2, "twardlab": 4, "two": 2, "type": [2, 4], "ucla": [1, 2], "undo": 2, "up": 2, "updat": 2, "update_v": 2, "us": [1, 2, 3, 4], "v": [1, 2, 3], "valu": [2, 4], "vari": 2, "vc": 2, "verbos": 4, "veri": 2, "view": [3, 4], "vm": 2, "vminmax": 2, "volum": 3, "voxel": [2, 4], "vr": 2, "vsave": 2, "vstart": 2, "w": 2, "wa": 2, "want": 2, "we": 2, "what": 2, "when": 2, "where": 4, "which": [3, 4], "why": 2, "widget": 2, "within": 1, "wiu": [2, 3], "wj": 2, "wjd": 2, "wjdpp": 2, "work": 2, "workflow": 1, "wphiiqju": [2, 3], "write": 2, "wspace": 2, "x": [2, 3], "xi": [2, 3], "xid": [2, 4], "xid_": 2, "xj": 2, "xj0": 2, "xjd": 2, "xjd_": 2, "xjx": 2, "xjxj": 2, "xl": 2, "xs0": 2, "xs_": 2, "xv": [2, 3, 4], "xx": 2, "xxo": 2, "xy": 2, "xyscal": 2, "z": 2, "zero": 2, "zero_": 2, "zeros_lik": 2, "zip": 2, "zo": 2}, "titles": ["Welcome to the documentation for the spine image registration pipeline!", "Spine Registration Example", "Register spines", "Spine Registration Helper Functions", "Spine Registration Pipeline"], "titleterms": {"argument": 4, "command": 4, "content": 0, "document": 0, "exampl": [0, 1], "file": 2, "function": 3, "helper": 3, "high": 2, "i": 2, "imag": 0, "indic": 0, "input": 2, "j": 2, "jupyt": 0, "l": 2, "line": 4, "load": 2, "notebook": 0, "now": 2, "output": 2, "paramet": 3, "pipelin": [0, 4], "prepar": 2, "rais": 4, "re": 2, "regist": 2, "registr": [0, 1, 3, 4], "return": 3, "spine": [0, 1, 2, 3, 4], "tabl": 0, "version": 2, "visual": 2, "welcom": 0}})